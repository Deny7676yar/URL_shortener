URL_SHORTENER

URL shortener (“сокращатель ссылок”) - это сервис, позволяющий пользователю генерировать  для произвольного URL’a его короткую версию, которую удобно вставлять в различные публикации, сообщения, новости, промо-материалы и так далее.

Особенности функциональности сервис позволяет получать статистику переходов по каждому сгенерированному URL’у, что будет полезно, если его владелец захочет узнать сколько людей перешло по короткой ссылке из конкретного источника.

Каждой ссылке присваивается индекс, для быстрого поиска рейтинга, поиск осуществляется с помощью динамического пула воркеров, используя механизмы Go для синхронизации: channal(каналы), пакета sync, пакет atomic(примитив синхронизации)

В качестве архитектуры проекта я выбрал hexagonal архитектуру, по моему мнению она больше подходит для нашего проекта, так как мы будем создавать отдельные компоненты.
Компоненты определяется как инкапсулированный автономный блок. Компоненты общаться друг с другом
с помощью интерфейсов. Такой подход к проектированию тесно связан с SOLID принципами и предлагает нам гибкость для свободного изменения или даже замены реализации компонентов в любой момент на протяжении всего проекта разработки

Компоненты:

Компонент сканер:
Компонент сканера фактически является сердцем поисковой системы. Он сканирует множество
ссылок, которые загружаются в систему, либо обнаруживаются в хранилище

Фильтр ссылок:
простая реализация поискового робота попытается получить любые ссылки предоставленные пользователем, поэтому мы должны будем проверить работоспособность ссылки и вообще является ли введенная пользователем строка ссылкой

Сборщик ссылок:
Ссылки оставшиеся после Фильтра ссылок, потребляются компонентом сборщика ссылок.
Этот компонент отвечает за установление HTTP-соединения с каждой ссылкой.
Если возвращенный код состояния приходит с ошибкой приложение должно будет адекеватно среагировать.

Сокращатель ссылок:
Сокращатель получает от сборщика ссылок ссылку и создает сокращенную версию, далее создается обект из длинной и короткой ссылки и передается индексатору ссылок.

Счетчик ссылок:
отвечает за отслеживание всех ссылок, по которым переходят пользователи. Он предоставляет интерфейсы для других компонентов для присваивания рейтинга и обновления или удаления ссылок которые превысили срок или признаны не рабочими.

Индексатор ссылок:
Индексатор ссылок поддерживает полнотекестовый индекс для всех документов.
Присваивает индекс переданным обектам от сокращзателя ссылок и предоставляет механизм поиска и упорядочивания ссылок по дате или рангу, то есть создает обьект содержащий: ссылки короткую и длинную, присвоенный индекс, дату, рейтинг. 

Калькулятор Rang:
калькулятор реализует асинхронный, периодический процесс для повторной оценки
рейтинга для каждой ссылки, калькулятор связывается с помощью интерфейса с счетчиком ссылок и расчитывает Rang для ссылок.

Мониторинг системы:
Отслеживает состояние каждой составной части, что бы мы могли выявить компонент в котором показывает повышенный уровень ошибок, еще здесь будут записываться логи с помощью пакета Logrus.

Хранилище:
Создадим хранилище которое будет связанна с другими компанентами с помощью интерфейсов. Чтобы в зависимости от нагрузки можно было безболезнино сменить базу, так как пока мы не знаем нагрузку создадим хранилище в файлах.

Динамический пул воркеров:
Мы всегда должны устанавливать верхний предел количества
рабочих, которые могут быть порождены динамическим пулом. Без такого ограничения количество горутин, может выйти из-под контроля и вызванная программа либо остановится, либо, что еще хуже, выйдет из строя!
Чтобы избежать этой проблемы,реализация динамического рабочего пула, использует примитив известный как пул токенов
Предаставляет интерфейсы которые используют другие компоненты 

Будем использовать Docker для запуска сервиса

